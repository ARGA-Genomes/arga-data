{
    "dataType": "enrich",
    "dbType": "specific",
    "files": [
        {
            "url": "https://ftp.ncbi.nlm.nih.gov/biosample/biosample_set.xml.gz",
            "downloadedFile": "biosample_set.xml.gz",
            "processing": [
                {
                    "path": "tools/processing/extract.py",
                    "function": "process",
                    "args": [
                        "{INPUT, 0}",
                        "{PATH, PROCESSING}"
                    ],
                    "outputs": [
                        "{PATH, PROCESSING, biosample_set.xml}"
                    ]
                },
                {
                    "path": "tools/processing/xmlProcess.py",
                    "function": "process",
                    "args": [
                        "{INPUT, 0}",
                        "{PATH, PROCESSING, biosample.csv}"
                    ],
                    "kwargs": {
                        "subfileRows": 200000,
                        "compressChild": [
                            "Paragraph",
                            "Attribute",
                            "Model",
                            "Id",
                            "Link"
                        ]
                    },
                    "outputs": [
                        "{PATH, PROCESSING, biosample.csv}"
                    ]
                },
                {
                    "path": "tools/processing/columnSplit.py",
                    "function": "process",
                    "args": [
                        "{INPUT, 0}",
                        "{PATH, PROCESSING, cleanedBiosample.csv}",
                        {
                            "Attributes": {
                                "collection date": ["Attribute_attribute_name", "collection date"],
                                "specimen voucher": ["Attribute_attribute_name", "specimen_voucher"],
                                "sex": ["Attribute_attribute_name", "sex"],
                                "developmental stage": ["Attribute_attribute_name", "developmental stage"],
                                "tissue": ["Attribute_attribute_name", "tissue"],
                                "isolate": ["Attribute_attribute_name", "isolate"],
                                "lat long": ["Attribute_attribute_name", "lat_lon"],
                                "geo loc name": ["Attribute_attribute_name", "geo_loc_name"]
                            }
                        }
                    ],
                    "kwargs": {
                        "chunkSize": 200000
                    },
                    "outputs": [
                        "{PATH, PROCESSING, cleanedBiosample.csv}"
                    ]
                }
            ]
        }
    ],
    "dwcProperties": {
        "augment": [
            {
                "path": "sourceProcessing/ncbi/bioSamplePostDWC.py",
                "function": "augment"
            }
        ]
    }
}
