{
    "dataType": "enrich",
    "dbType": "specific",
    "files": [
        {
            "url": "https://ftp.ncbi.nlm.nih.gov/biosample/biosample_set.xml.gz",
            "downloadedFile": "biosample_set.xml.gz",
            "processing": [
                {
                    "script": "tools/processing/extract.py",
                    "function": "process",
                    "args": [
                        "{0}"
                    ],
                    "outputs": [
                        "biosample_set.xml"
                    ]
                },
                {
                    "script": "tools/processing/xmlProcess.py",
                    "function": "process",
                    "args": [
                        "{0}"
                    ],
                    "kwargs": {
                        "subfileRows": 1000000,
                        "onefile": "biosample",
                        "onlyTags": {
                            "BioSample": ["accession"],
                            "Organism": ["taxonomy_id"],
                            "Contact": ["email", "lab"],
                            "Link": ["type=url"],
                            "Attribute": [
                                "attribute_name=collection date",
                                "attribute_name=speciment_voucher",
                                "attribute_name=sex",
                                "attribute_name=development stage",
                                "attribute_name=tissue",
                                "attribute_name=isolate",
                                "attribute_name=lat_long",
                                "attribute_name=geo_loc_name"
                            ]
                        }
                    },
                    "outputs": [
                        "biosample.csv"
                    ]
                }
            ]
        }
    ],
    "dwcProperties": {
        "augment": [
            {
                "script": "sourceProcessing/ncbi/bioSamplePostDWC.py",
                "function": "augment"
            }
        ]
    }
}
